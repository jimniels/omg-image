<!-- 
@param {Object} _
@param {string} _/questionsById - same as doing `src/questionsById.yaml`
@param {string} _/questionId - the active in the URL, e.g. /question/:id
@param {string?} _/answerId - the active answer in the URL, e.g. /questions/:id/answers/:id
-->

<!-- prettier-ignore -->
<h1 class="heading heading--${@if(
  @equals(_/questionsById(_/questionId)/answerId, _/answerId),
  `correct`,
  `incorrect`
)}">
  ${@if(
    @equals(_/questionsById(_/questionId)/answerId, _/answerId),
    `Thatâ€™s it!`,
    `Nope, not that one.`
  )}
</h1>

<div class="card">
  <a href="${_/questionsById(_/questionId)/url}" class="social-card">
    <img
      src="/og-images/${_/questionId}.jpg"
      alt=""
      width="400"
      height="260"
      class="social-card__image"
    />
    <div class="social-card__content">
      <p>
        ${_/questionsById(_/questionId)/answersById(_/questionsById(_/questionId)/answerId)}
      </p>
      <cite>${../getDomainFromUrl.js(_/questionsById(_/questionId)/url)}</cite>
    </div>
  </a>

  <!-- prettier-ignore -->
  <ul class="answers">
  ${@map(
    _/questionsById(_/questionId)/answersById,
    (answer, answerId) => `
      <li class="
        answers__item
        ${@if(@equals(@slash/remove(answerId), _/answerId), 'answers__item--current')}
        ${@if(@equals(@slash/remove(answerId), _/questionsById(_/questionId)/answerId), 
          'answers__item--correct', 
          'answers__item--incorrect'
          )}
        ">
        ${answer}
        ${@if(@equals(@slash/remove(answerId), _/questionsById(_/questionId)/answerId), 
          ../svgs/iconCircleCheck.svg
          )}
      </li>
    `
  )}
</ul>
</div>

<!-- <div class="question-nav"> -->
<!-- <a href="/questions/${_/questionId}/">Back to question</a> -->
<a href="/questions/${_/questionIdNext}/" class="next-btn"
  >${@if(@equals(_/questionIdNext, '1'), 'Start over', 'Next question')}</a
>
<!-- </div> -->
